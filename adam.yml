openapi: 3.0.0

info:
  version: 1.0.0
  title: ADA-M specification
  description: The Automatable Discovery and Access Matrix (ADA-M) provides a standardized way to unambiguously represent the conditions related to data discovery and access. 

paths: {}

components:
  schemas:
    AdamHeader:
      type: object
      required:
        - matrixName
        - matrixVersion
        - matrixReferences
        - matrixProfileCreateDate
        - matrixProfileUpdates
        - resourceName
        - resourceReferences
        - resourceDescription
        - resourceDataLevel
        - resourceContactNames
        - resourceContactOrganisations
      properties:
        matrixName:
          type: string
        matrixVersion:
          type: string
        matrixReferences:
          type: array
          items:
            type: string
        matrixProfileCreateDate:
          type: string
          example: 2012-07-19 or 2017-01-17T20:33:40Z
        matrixProfileUpdates:
          $ref: "#/components/schemas/ProfileUpdates"
        resourceName:
          type: string
        resourceReferences:
          type: array
          items:
            type: string
        resourceDescription:
          type: string
        resourceDataLevel:
          $ref: "#/components/schemas/DataLevel"
        resourceContactNames:
          type: array
          items:
            $ref: "#/components/schemas/Contact"
        resourceContactOrganisations:
          type: array
          items:
            type: string
    ProfileUpdates:
      type: object
      required:
        - date
        - description
      properties:
        date:
          type: string
          description: Date the change was made to the profile.
          example: 2012-07-19 or 2017-01-17T20:33:40Z
        description: 
          type: string
          description: Text describing the profile change made.
    DataLevel:
      type: object
      required:
        - level
      properties:
        level:
          type: string
          enum: 
            - UNKNOWN
            - DATABASE
            - METADATA
            - SUMMARISED
            - DATASET
            - RECORDSET
            - RECORD
            - RECORDFIELD
    Contact:
      type: object
      required:
        - name
        - email
      properties:
        name:
          type: string
        email:
          type: string
    AdamProfile:
      type: object
      #required:
      properties:
        country:
          $ref: "#/components/schemas/RestrictionsUL"        
        allowedCountries:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        organisation:
          $ref: "#/components/schemas/RestrictionsUL"
        allowedOrganisations:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        nonProfitOrganisation:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedNonProfitOrganisations:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        profitOrganisation:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedProfitOrganisations:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        person:
          $ref: "#/components/schemas/RestrictionsUL"
        allowedPersons:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        academicProfessional:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedAcademicProfessionals:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        clinicalProfessional:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedClinicalProfessionals:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        profitProfessional:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedProfitProfessionals:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        nonProfessional:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedNonProfessionals:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        nonProfitPurpose:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedNonProfitPurposes:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        profitPurpose:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedProfitPurposes:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        researchPurpose:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedResearchPurposes:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        allowedResearchProfiles:
          type: array
          items:
            $ref: "#/components/schemas/ResearchDescription"
        clinicalPurpose:
          $ref: "#/components/schemas/RestrictionsULF"
        allowedClinicalPurpose:
          type: array
          items:
            $ref: "#/components/schemas/ProfileDescription"
        allowedClinicalProfiles:
          type: array
          items:
            $ref: "#/components/schemas/ClinicalDescription"
    RestrictionsUL:
      type: string
      enum:
        - UNRESTRICTED
        - LIMITED
    RestrictionsULF:
      type: string
      enum:
        - UNRESTRICTED
        - LIMITED
        - UNRESTRICTED_OBLIGATORY
        - LIMITED_OBLIGATORY
        - FORBIDDEN
    ProfileDescription:
      type: object
      required:
        - description
        - obligatory
      properties:
        description:
          type: string
        obligatory:
          type: boolean
    ResearchProfile:
      type: string
      enum:
        - OTHER
        - METHODS
        - CONTROL
        - POPULATION
        - ANCESTRY
        - BIOMEDICAL
        - FUNDAMENTAL
        - GENETIC
        - DRUG
        - DISEASE
        - GENDER
        - AGE
    ResearchDescription:
      type: object
      properties:
        type:
          $ref: "#/components/schemas/ResearchProfile"
        description:
          type: string
        restriction:
          $ref: "#/components/schemas/RestrictionsULF"
    ClinicalProfile:
      type: string
      enum:
        - OTHER
        - DECISION_SUPPORT
        - DISEASE
    ClinicalDescription:
      type: object
      properties:
        type:
          $ref: "#/components/schemas/ClinicalProfile"
        description:
          type: string
        restriction:
          $ref: "#/components/schemas/RestrictionsULF"
    AdamTerms:
      type: object
      #required:
      properties:
        noAuthorizationTerms:
          type: boolean
          default: false
        whichAuthorizationTerms:
          type: array
          items:
            type: string
        noPublicationTerms:
          type: boolean
          default: false
        whichPublicationTerms:
          type: array
          items:
            type: string
        noTimelineTerms:
          type: boolean
          default: false
        whichTimelineTerms:
          type: array
          items:
            type: string
        noSecurityTerms:
          type: boolean
        whichSecurityTerms:
          type: array
          items:
            type: string
        noExpungingTerms:
          type: boolean
          default: false
        whichExpungingTerms:
          type: array
          items:
            type: string
        noLinkingTerms:
          type: boolean
          default: false
        whichLinkingTerms:
          type: array
          items:
            type: string
        noRecontactTerms:
          type: boolean
          default: false
        allowedRecontactTerms:
          type: array
          items:
            type: string
        compulsoryRecontactTerms:
          type: array
          items:
            type: string
        noIPClaimTerms:
          type: boolean
          default: false
        whichIPClaimTerms:
          type: array
          items:
            type: string
        noReportingTerms:
          type: boolean
          default: false
        whichReportingTerms:
          type: array
          items:
            type: string
        noCollaborationTerms:
          type: boolean
        whichCollaborationTerms:
          type: array
          items:
            type: string
        noPaymentTerms:
          type: boolean
          default: false
        whichPaymentTerms:
          type: array
          items:
            type: string
    AdamMetaConditions:
      type: object
      required:
        - sharingMode
        - multipleObligationsRule
      properties:
        sharingMode:
          $ref: "#/components/schemas/SharingMode"
        multipleObligationsRule:
          $ref: "#/components/schemas/MultipleObligationsRule"
        noOtherConditions:
          type: boolean
          default: false
        whichOtherConditions:
          type: array
          items:
            type: string
        sensitivePopulations:
          type: boolean
          default: false
        uniformConsent:
          type: boolean
          default: false
    SharingMode:
      type: string
      enum:
        - UNKNOWN
        - DISCOVERY
        - ACCESS
        - DISCOVERY_AND_ACCESS
    MultipleObligationsRule:
      type: string
      enum:
        - MEET_ALL_OBLIGATIONS
        - MEET_AT_LEAST_ONE_OBLIGATION
